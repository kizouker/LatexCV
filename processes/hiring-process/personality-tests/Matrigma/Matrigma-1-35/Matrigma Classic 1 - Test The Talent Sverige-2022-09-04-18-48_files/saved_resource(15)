(function($)
{"use strict";$(function()
{avia_header_size();});function av_change_class($element,change_method,class_name)
{if($element[0].classList)
{if(change_method=="add")
{$element[0].classList.add(class_name);}
else
{$element[0].classList.remove(class_name);}}
else
{if(change_method=="add")
{$element.addClass(class_name);}
else
{$element.removeClass(class_name);}}}
function avia_header_size()
{var win=$(window),header=$('.html_header_top.html_header_sticky #header'),unsticktop=$('.av_header_unstick_top');if(!header.length&&!unsticktop.length)
{return;}
var logo=$('#header_main .container .logo img, #header_main .container .logo svg, #header_main .container .logo a'),elements=$('#header_main .container:not(#header_main_alternate>.container), #header_main .main_menu ul:first-child > li > a:not(.avia_mega_div a, #header_main_alternate a), #header_main #menu-item-shop .cart_dropdown_link'),el_height=$(elements).first().height(),isMobile=$.avia_utilities.isMobile,scroll_top=$('#scroll-top-link'),transparent=header.is('.av_header_transparency'),shrinking=header.is('.av_header_shrinking'),header_meta=header.find('#header_meta'),topbar_height=header_meta.length?header_meta.outerHeight():0,set_height=function()
{var st=win.scrollTop(),newH=0,st_real=st;if(unsticktop)
{st-=topbar_height;}
if(st<0)
{st=0;}
if(shrinking&&!isMobile)
{if(st<el_height/2)
{newH=el_height-st;if(st<=0)
{newH=el_height;}
av_change_class(header,'remove','header-scrolled');}
else
{newH=el_height/2;av_change_class(header,'add','header-scrolled');}
if(st-30<el_height)
{av_change_class(header,'remove','header-scrolled-full');}
else
{av_change_class(header,'add','header-scrolled-full');}
elements.css({'height':newH+'px','lineHeight':newH+'px'});logo.css({'maxHeight':newH+'px'});}
if(unsticktop.length)
{if(st<=0)
{if(st_real<=0)
{st_real=0;}
unsticktop.css({"margin-top":"-"+st_real+"px"});}
else
{unsticktop.css({"margin-top":"-"+topbar_height+"px"});}}
if(transparent)
{if(st>50)
{av_change_class(header,'remove','av_header_transparency');}
else
{av_change_class(header,'add','av_header_transparency');}}};if($('body').is('.avia_deactivate_menu_resize'))
{shrinking=false;}
if(!transparent&&!shrinking&&!unsticktop.length)
{return;}
win.on('debouncedresize',function()
{el_height=$(elements).attr('style',"").first().height();set_height();});win.on('scroll',function()
{window.requestAnimationFrame(set_height);});set_height();}})(jQuery);;(function($)
{"use strict";var win=null,body=null,placeholder=null,footer=null,max_height=null;$(function()
{win=$(window);body=$('body');if(body.hasClass('av-curtain-footer'))
{aviaFooterCurtain();return;}
return;});function aviaFooterCurtain()
{footer=body.find('.av-curtain-footer-container');if(footer.length==0)
{body.removeClass('av-curtain-footer av-curtain-activated av-curtain-numeric av-curtain-screen');return;}
placeholder=$('<div id="av-curtain-footer-placeholder"></div>');footer.before(placeholder);if(body.hasClass('av-curtain-numeric'))
{max_height=footer.data('footer_max_height');if('undefined'==typeof max_height)
{max_height=70;}
else
{max_height=parseInt(max_height,10);if(isNaN(max_height))
{max_height=70;}}}
aviaCurtainEffects();win.on('debouncedresize',aviaCurtainEffects);}
function aviaCurtainEffects()
{var height=Math.floor(footer.outerHeight()),viewportHeight=win.innerHeight();if(null==max_height)
{placeholder.css({height:height+'px'});}
else
{var limit=Math.floor(viewportHeight*(max_height/100.0));if(height>limit)
{body.removeClass('av-curtain-activated');placeholder.css({height:''});}
else
{body.addClass('av-curtain-activated');placeholder.css({height:height+'px'});}}}})(jQuery);;(function($){"use strict";$(function()
{$('.avia_auto_toc').each(function(){var $toc_section=$(this).attr('id');var $levels='h1';var $levelslist=new Array();var $excludeclass='';var $toc_container=$(this).find('.avia-toc-container');if($toc_container.length)
{var $levels_attr=$toc_container.attr('data-level');var $excludeclass_attr=$toc_container.attr('data-exclude');if(typeof $levels_attr!==undefined)
{$levels=$levels_attr;}
if(typeof $excludeclass_attr!=='undefined')
{$excludeclass=$excludeclass_attr;}}
$levelslist=$levels.split(',');$('.entry-content-wrapper').find($levels).each(function()
{var $h_id=$(this).attr('id');var $tagname=$(this).prop('tagName').toLowerCase();var $txt=$(this).text();var $pos=$levelslist.indexOf($tagname);var $extraclass='';if(typeof $h_id=='undefined')
{var $new_id=av_pretty_url($txt);$(this).attr('id',$new_id);$h_id=$new_id;}
if(!$(this).hasClass('av-no-toc')&&!$(this).hasClass($excludeclass)&&!$(this).parent().hasClass($excludeclass))
{var $list_tag='<a href="#'+$h_id+'" class="avia-toc-link avia-toc-level-'+$pos+'"><span>'+$txt+'</span></a>';$toc_container.append($list_tag);}});$(".avia-toc-smoothscroll .avia-toc-link").on('click',function(e)
{e.preventDefault();var $target=$(this).attr('href');var $offset=50;var $sticky_header=$('.html_header_top.html_header_sticky #header');if($sticky_header.length)
{$offset=$sticky_header.outerHeight()+50;}
$('html,body').animate({scrollTop:$($target).offset().top-$offset});});});});function av_pretty_url(text)
{return text.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,'');}})(jQuery);;WTPTracker={};WTPTracker.track=function(category,action,label,val){if(typeof ga=='function'){ga('send','event',category,action,label,val);}
else{if(typeof _gaq!=='undefined'){_gaq.push(['_trackEvent',category,action,label,val]);}}};var WatuPRO={};var WatuPROSettings=[];WatuPRO.forceSubmit=false;WatuPRO.confirmOnSubmit=false;WatuPRO.dontPromtUnanswered=false;WatuPRO.dontPromtNotlastpage=false;WatuPRO.dontScroll=false;WatuPRO.dontScrollStart=false;WatuPRO.inCategoryPages=false;WatuPRO.jsTimeDiff=null;WatuPRO.timerAdjustedBySchedule=false;WatuPRO.currentDecade=0;WatuPRO.perDecade=10;WatuPRO.progressBarMode='pages';WatuPRO.changeQCat=function(item){if(item.value=="-1")jQuery("#newCat").show();else jQuery("#newCat").hide();}
WatuPRO.current_question=1;WatuPRO.total_questions=0;WatuPRO.mode="show";WatuPRO.fullTimeLimit=0;WatuPRO.checkAnswer=function(e,questionID){this.answered=false;var questionID=questionID||WatuPRO.qArr[WatuPRO.current_question-1];this.answered=this.isAnswered(questionID);if(!this.answered&&e){if(jQuery.inArray(questionID,WatuPRO.requiredIDs)!=-1){alert(watupro_i18n.answering_required);return false;}
if(!this.dontPromtUnanswered&&!confirm(watupro_i18n.did_not_answer)){e.preventDefault();e.stopPropagation();return false;}}
return true;}
WatuPRO.isAnswered=function(questionID){if(typeof(questionID)=='undefined')return true;var isAnswered=false;if(questionID==0)return true;var answerType=jQuery('#answerType'+questionID).val();if(answerType=='radio'&&jQuery('#dropdowQuestion-'+questionID).length){if(jQuery('#dropdowQuestion-'+questionID).val()=='')return false;return true;}
if(answerType=='slider')return true;if(answerType=='sort')return true;if(answerType=='matrix'||answerType=='nmatrix'){isAnswered=true;jQuery('.answerof-'+questionID).each(function(){if(jQuery(this).val()=='')isAnswered=false;});if(isAnswered)return true;}
if(answerType=='textarea'){if(jQuery('.watupro-file-upload-required-'+questionID).length>0&&jQuery('.watupro-file-upload-required-'+questionID).first().val()=='')return false;if(jQuery('#textarea_q_'+questionID).attr('class')=='wp-editor-area'){if(tinyMCE.get('textarea_q_'+questionID).getContent())return true;}
else if(jQuery("#textarea_q_"+questionID).val()!="")return true;}
jQuery(".answerof-"+questionID).each(function(i){if(answerType=='radio'||answerType=='checkbox'){if(this.checked)isAnswered=true;}
if(answerType=='gaps'){if(this.value)isAnswered=true;}});return isAnswered;}
WatuPRO.nextQuestion=function(e,dir,gotoQuestion){var dir=dir||'next';var gotoQuestion=gotoQuestion||0;if(dir=='next'){if(!WatuPRO.checkAnswer(e))return false;}
else WatuPRO.checkAnswer(null);this.stopAudios();if(!WatuPRO.dontScroll&&dir!='goto'&&jQuery(document).scrollTop()>250){jQuery('html, body').animate({scrollTop:jQuery('#watupro_quiz').offset().top-100},100);}
if(!this.inCategoryPages)jQuery("#question-"+WatuPRO.current_question).hide();questionID=jQuery("#qID_"+WatuPRO.current_question).val();if(dir=='next')WatuPRO.current_question++;else if(dir=='goto')WatuPRO.current_question=gotoQuestion;else WatuPRO.current_question--;jQuery("#question-"+WatuPRO.current_question).show();this.hilitePage(WatuPRO.current_question,this.answered);if(WatuPRO.total_questions<=WatuPRO.current_question){jQuery("#next-question").hide();jQuery('#action-button').show();if(jQuery('#WTPReCaptcha').length)jQuery('#WTPReCaptcha').show();if(jQuery('#WatuPROTextCaptcha').length)jQuery('#WatuPROTextCaptcha').show();}
else{jQuery("#next-question").show();if(jQuery('#WTPReCaptcha').length)jQuery('#WTPReCaptcha').hide();if(jQuery('#WatuPROTextCaptcha').length)jQuery('#WatuPROTextCaptcha').hide();}
WatuPRO.maybeHideNext();if(WatuPRO.current_question>1&&!this.inCategoryPages)jQuery('#prev-question').show();else jQuery('#prev-question').hide();if(jQuery('#questionWrap-'+WatuPRO.current_question).is(':hidden')){jQuery('#liveResultBtn').hide();}else{if(jQuery('#liveResultBtn').length)jQuery('#liveResultBtn').show();}
if(!this.inCategoryPages)WatuPRO.progressBar(WatuPRO.current_question,WatuPRO.exam_id);jQuery.event.trigger({type:'watupro-custom',subtype:'show_question',question_id:questionID,qnum:WatuPRO.current_question});if(!WatuPRO.store_progress||!e)return false;var data={"exam_id":WatuPRO.exam_id,"question_id":questionID,'action':'watupro_store_details','watupro_questions':jQuery('#quiz-'+WatuPRO.exam_id+' input[name=watupro_questions]').val(),"current_question":WatuPRO.current_question};data=WatuPRO.completeData(data);jQuery.post(WatuPRO.siteURL,data,function(msg){if(jQuery('#watuproEvaluateOnTheFly'+WatuPRO.exam_id).length&&WatuPROIntel)WatuPROIntel.runTimeLogic(msg);});}
WatuPRO.goto=function(e,j,qPaginator){qPaginator=qPaginator||null;if(this.inCategoryPages&&!e){this.curCatPage=this.current_question;curQuesID=jQuery('#catDiv'+this.curCatPage+' div.watu-question').first().attr('id');parts=curQuesID.split('-');WatuPRO.current_question=parseInt(parts[1]);j=WatuPRO.current_question;}
this.nextQuestion(e,'goto',j);var questionID=jQuery("#qID_"+WatuPRO.current_question).val();var isAnswered=this.isAnswered(questionID);this.hilitePage(j,isAnswered);jQuery('.watupro-paginator-wrap').show();if(this.inCategoryPages){if(e){var curCatPage=document.getElementById('question-'+WatuPRO.current_question).closest('.watupro_catpage').id;if(typeof curCatPage=='undefined')return false;curCatPage=curCatPage.replace('catDiv','');this.curCatPage=parseInt(curCatPage)}
var numPages=jQuery('.watupro_catpage').length;this.curCatPage+=1;this.nextCategory(numPages,false,true,true,qPaginator);}
if(!WatuPRO.dontScroll&&qPaginator){jQuery('html, body').animate({scrollTop:jQuery('#questionWrap-'+j).offset().top-50},1000);}}
WatuPRO.ansGoto=function(e,j){jQuery('ul.watupro-answers-paginator li.active').removeClass('active');jQuery('#WatuPROAnswerPagination'+j).addClass('active');jQuery('div.watupro-paginated-answer').hide();jQuery('#watuPROPaginatedAnswer-'+j).show();if(jQuery("#watuproPaginatedAnswersStart").position()&&!WatuPRO.dontScroll){if(jQuery("#watuproPaginatedAnswersStart").position().top<jQuery(window).scrollTop()){jQuery('html,body').animate({scrollTop:jQuery("#watuproPaginatedAnswersStart").position().top},500);}
else if(jQuery("#watuproPaginatedAnswersStart").position().top+jQuery("#watuproPaginatedAnswersStart").height()>jQuery(window).scrollTop()+(window.innerHeight||document.documentElement.clientHeight)){jQuery('html,body').animate({scrollTop:jQuery("#watuproPaginatedAnswersStart").position().top-(window.innerHeight||document.documentElement.clientHeight)+jQuery("#watuproPaginatedAnswersStart").height()+15},500);}}}
WatuPRO.scrollTo=function(id,j){var questionID=jQuery("#qID_"+WatuPRO.current_question).val();var isAnswered=this.isAnswered(questionID);this.hilitePage(j,isAnswered);jQuery('html, body').animate({scrollTop:jQuery("#"+id).offset().top-150},1000);}
WatuPRO.hilitePage=function(j,isAnswered,dontRewindPaginator){dontRewindPaginator=dontRewindPaginator||null;if(jQuery('ul.watupro-question-paginator').length>0){if(isAnswered){jQuery('ul.watupro-question-paginator li.active').removeClass('unanswered');jQuery('ul.watupro-question-paginator li.active').addClass('answered');}else{jQuery('ul.watupro-question-paginator li.active').addClass('unanswered');jQuery('ul.watupro-question-paginator li.active').removeClass('answered');}
jQuery('ul.watupro-question-paginator li.active').removeClass('active');jQuery('#WatuPROPagination'+j).addClass('active');if(!dontRewindPaginator){this.currentDecade=Math.ceil(this.current_question/this.perDecade);var num=jQuery('ul.watupro-question-paginator li').length-2;var numDecades=Math.ceil(num/this.perDecade);jQuery('.watupro-paginator li').not('.watupro-category-paginator li').hide();if(this.currentDecade!=1)jQuery('.watupro-paginator li.rewind-down').show();if(this.currentDecade!=numDecades)jQuery('.watupro-paginator li.rewind-up').show();jQuery('.watupro-paginator li.decade-'+this.currentDecade).show();}}
if(jQuery('#watuPROCatPaginator'+this.exam_id).length>0&&jQuery('#questionCatTabInfo'+j).length>0){pageTabClassNum=jQuery('#questionCatTabInfo'+j).html();jQuery('#watuPROCatPaginator'+this.exam_id+' li').removeClass('active');jQuery('.WatuPROCatPaginationCatID'+pageTabClassNum).addClass('active');}}
WatuPRO.hilitePaginator=function(numQuestions){var dontRewindPaginator=true;for(i=1;i<=numQuestions;i++){var questionID=jQuery("#qID_"+i).val();var isAnswered=this.isAnswered(questionID);if(i+1>=numQuestions)dontRewindPaginator=false;this.hilitePage(i+1,isAnswered,dontRewindPaginator);}}
WatuPRO.movePaginator=function(dir,num){if(this.currentDecade==0){this.currentDecade=Math.ceil(this.current_question/this.perDecade);}
if(dir=='up')this.currentDecade++;else if(this.currentDecade>1)this.currentDecade--;var numDecades=Math.ceil(num/this.perDecade);jQuery('.watupro-paginator li').not('.watupro-category-paginator li').hide();if(this.currentDecade!=1)jQuery('.watupro-paginator li.rewind-down').show();if(this.currentDecade!=numDecades)jQuery('.watupro-paginator li.rewind-up').show();jQuery('.watupro-paginator li.decade-'+this.currentDecade).show();}
WatuPRO.submitResult=function(e){var okToSubmit=true;this.curCatPage=this.curCatPage||1;if(this.examMode==0&&this.total_questions>this.current_question)okToSubmit=false;if(this.examMode==2&&this.curCatPage<this.numCats)okToSubmit=false;if(!WatuPRO.forceSubmit){try{if(!watuproCheckPendingReview())return false;}
catch(err){};var numMarked=jQuery('#quiz-'+WatuPRO.exam_id+' .watupro-mark-review.marked').length;if(numMarked>0){WatuPRO.forceSubmit=true;}}
if(!WatuPRO.forceSubmit&&!okToSubmit&&(!WatuPRO.dontPromtNotlastpage&&!confirm(watupro_i18n.not_last_page)))return false;if(!WatuPRO.forceSubmit&&okToSubmit&&WatuPRO.confirmOnSubmit){if(!confirm(watupro_i18n.confirm_submit))return false;}
if(!WatuPRO.forceSubmit){for(i=0;i<WatuPRO.requiredIDs.length;i++){if(!this.isAnswered(WatuPRO.requiredIDs[i])){var msg=watupro_i18n.missed_required_question_num;var qid=jQuery('.watupro-question-id-'+WatuPRO.requiredIDs[i]).attr('id');var numParts=qid.split('-');var numQ=numParts[1];msg=msg.replace('%s',numQ);alert(msg);return false;}}}
if(!WatuPRO.forceSubmit&&(e&&e.no_ajax&&e.no_ajax.value==1)&&jQuery('.watupro-file-upload').length>0){var sizeErrors=[];var extErrors=[];var maxUpload=WatuPRO.maxUpload*1024;var allowedTypes=WatuPRO.uploadExts.split(',');jQuery('.watupro-file-upload').each(function(i,fld){if(typeof fld.files[0]==='undefined')return true;var fldID=fld.id;var parts=fldID.split('-');var qNum=parts[1];if(fld.files[0].size>maxUpload)sizeErrors.push(qNum);var parts=fld.files[0].name.split('.');var ext=parts.pop();ext=ext.toLowerCase();if(jQuery.inArray(ext,allowedTypes)==-1)extErrors.push(qNum);});if(sizeErrors.length>0){var qNumbers=sizeErrors.join(', ');var alertMsg=watupro_i18n.size_errors.replace('%s',qNumbers);alertMsg=alertMsg.replace('%d',WatuPRO.maxUpload);alert(alertMsg);return false;}
if(extErrors.length>0){var qNumbers=extErrors.join(', ');var alertMsg=watupro_i18n.extension_errors.replace('%s',qNumbers);alert(alertMsg);return false;}}
if(jQuery('#WTPReCaptcha').length&&!jQuery('#WTPReCaptcha').is(':visible')&&!WatuPRO.forceSubmit){alert(watupro_i18n.complete_captcha);jQuery('#WTPReCaptcha').show();return false;}
if(jQuery('#WatuPROTextCaptcha').length&&!jQuery('#WatuPROTextCaptcha').is(':visible')&&!WatuPRO.forceSubmit){alert(watupro_i18n.complete_text_captcha);jQuery('#WatuPROTextCaptcha').show();return false;}
if(!this.validateEmailName())return false;if(jQuery('#timerDiv').length>0){jQuery('#timerDiv').hide();clearTimeout(WatuPRO.timerID);}
jQuery('#quiz-'+WatuPRO.exam_id).hide();jQuery('#submittingExam'+WatuPRO.exam_id).show();jQuery('html, body').animate({scrollTop:jQuery('#watupro_quiz').offset().top-50},1000);jQuery("#action-button").val(watupro_i18n.please_wait);jQuery("#action-button").attr("disabled",true);var data={"action":'watupro_submit',"quiz_id":this.exam_id,'question_id[]':this.qArr,"watupro_questions":jQuery('#quiz-'+this.exam_id+' input[name=watupro_questions]').val(),"post_id":this.post_id};data=this.completeData(data);data['start_time']=jQuery('#startTime').val();if(e&&e.no_ajax&&e.no_ajax.value==1)return true;if(jQuery('#WTPReCaptcha').length>0){jQuery('#quiz-'+WatuPRO.exam_id).show();data['recaptcha_challenge_field']=jQuery('#quiz-'+WatuPRO.exam_id+' input[name=recaptcha_challenge_field]').val();data['recaptcha_response_field']=jQuery('#quiz-'+WatuPRO.exam_id+' input[name=recaptcha_response_field]').val();data['g-recaptcha-response']=document.querySelector('.g-recaptcha-response').value;}
if(jQuery('#WatuPROTextCaptcha').length>0){jQuery('#quiz-'+WatuPRO.exam_id).show();data['watupro_text_captcha_answer']=jQuery('#quiz-'+WatuPRO.exam_id+' input[name=watupro_text_captcha_answer]').val();data['watupro_text_captcha_question']=jQuery('#quiz-'+WatuPRO.exam_id+' input[name=watupro_text_captcha_question]').val();}
if(jQuery('#watuPROAppID'+WatuPRO.exam_id).length>0){jQuery('#quiz-'+WatuPRO.exam_id).show();}
data['in_ajax']=1;if(!e||!e.no_ajax||e.no_ajax.value!=1){try{jQuery.ajax({"type":'POST',"url":this.siteURL,"data":data,"success":WatuPRO.success,"error":WatuPRO.errHandle,"cache":false,dataType:"text"});}catch(err){alert(err)}}}
WatuPRO.completeData=function(data){for(x=0;x<WatuPRO.qArr.length;x++){var questionID=WatuPRO.qArr[x];var ansgroup='.answerof-'+WatuPRO.qArr[x];var fieldName='answer-'+WatuPRO.qArr[x];var ansvalues=Array();var i=0;var answerType=jQuery('#answerType'+questionID).val();if(answerType=='textarea'){if(jQuery('#textarea_q_'+WatuPRO.qArr[x]).attr('class')=='wp-editor-area'){ansvalues[0]=tinyMCE.get('textarea_q_'+WatuPRO.qArr[x]).getContent()}
else ansvalues[0]=jQuery('#textarea_q_'+WatuPRO.qArr[x]).val();}
else{jQuery(ansgroup).each(function(){if(jQuery(this).is(':checked')||jQuery(this).is(':selected')||answerType=='gaps'||answerType=='sort'||answerType=='matrix'||answerType=='nmatrix'||answerType=='slider'){ansvalues[i]=this.value;i++;}
if(jQuery(this).is(':checked')||jQuery(this).is(':selected')){var parts=this.id.split('-');var choiceID=parts[2];data['freetext_'+choiceID]=jQuery('#watuPROFreeText'+choiceID).val();}});}
data[fieldName+'[]']=ansvalues;if(jQuery('#watuproUserFeedback'+questionID).length){var feedback=jQuery('#watuproUserFeedback'+questionID).val();data['feedback-'+questionID]=feedback;}
var hints='';if(jQuery('#questionHints'+questionID).length)hints=jQuery('#questionHints'+questionID).html();data['question_'+questionID+'_hints']=hints;if(jQuery('#watuPRORatingWidget'+questionID).length){data['question_rating_'+questionID]=jQuery('#watuPRORatingWidget'+questionID+'-val').val();}}
if(jQuery('#watuproTakerEmail'+WatuPRO.exam_id).length)data['taker_email']=jQuery('#watuproTakerEmail'+WatuPRO.exam_id).val();if(jQuery('#watuproTakerName'+WatuPRO.exam_id).length)data['taker_name']=jQuery('#watuproTakerName'+WatuPRO.exam_id).val();if(jQuery('#watuproTakerPhone'+WatuPRO.exam_id).length)data['taker_phone']=jQuery('#watuproTakerPhone'+WatuPRO.exam_id).val();if(jQuery('#watuproTakerCompany'+WatuPRO.exam_id).length)data['taker_company']=jQuery('#watuproTakerCompany'+WatuPRO.exam_id).val();if(jQuery('#watuproTakerField1'+WatuPRO.exam_id).length)data['taker_field1']=jQuery('#watuproTakerField1'+WatuPRO.exam_id).val();if(jQuery('#watuproTakerField2'+WatuPRO.exam_id).length)data['taker_field2']=jQuery('#watuproTakerField2'+WatuPRO.exam_id).val();data['h_app_id']='_'+jQuery('#watuPROAppSourceID'+WatuPRO.exam_id).val();if(WatuPRO.premature_end==1)data['premature_end']=1;data['wtpuc_ok']=WatuPRO.userChoice;if(WatuPRO.autoSubmitted)data['auto_submitted']=1;if(jQuery('#watuproEvaluateOnTheFly'+WatuPRO.exam_id).length)data['evaluate_on_the_fly']=1;return data;}
WatuPRO.success=function(r){if(r.indexOf('WATUPRO_CAPTCHA:::')>-1){parts=r.split(":::");alert(parts[1]);jQuery("#action-button").val(watupro_i18n.try_again);jQuery("#action-button").removeAttr("disabled");return false;}
jQuery("#action-button").removeAttr("disabled");if(r.indexOf('WATUPRO_REDIRECT:::')>-1){parts=r.split(":::");window.location=parts[1];return true;}
jQuery('#watupro_quiz').html(r);jQuery('#watupro-modal').dialog();if(typeof MathJax!='undefined'){if(typeof MathJax.Hub!='undefined')MathJax.Hub.Queue(["Typeset",MathJax.Hub,"watupro_quiz"]);MathJax.typeset();}
if(watupro_i18n.disable_copy==1){jQuery('#watupro_quiz').bind("cut copy",function(e){e.preventDefault();});jQuery('#watupro_quiz').bind("contextmenu",function(e){e.preventDefault();});}
jQuery('.wtpsd-category-tabs').hide();if(r.indexOf('<!--watupro-tracker')!==-1){parts=r.split('<!--watupro-tracker');var cParts=parts[1].split('-->');parts[1]=cParts[0];trackCode=parts[1].trim();parts=trackCode.split('|||');if(typeof WTPTracker.track==="function"){WTPTracker.track(parts[0],parts[1],parts[2],parts[3]);}}}
WatuPRO.errHandle=function(xhr,msg){var statusErrorMap={'400':"Server understood the request, but request content was invalid.",'401':"Unauthorized access.",'403':"Forbidden resource can't be accessed.",'500':"Internal server error.",'503':"Service unavailable.",'parsererror':'Requested JSON parse failed.','timeout':'Request timed out.','abort':'Ajax request aborted.',};if(xhr.status){msg+="("+statusErrorMap[xhr.status]+")";}
jQuery('#watupro_quiz').html('Error Occurred:'+msg+" "+xhr.statusText);jQuery("#action-button").val(watupro_i18n.try_again);jQuery("#action-button").removeAttr("disabled");}
WatuPRO.maybeHideNext=function(){if(typeof(WatuPROSettings[this.exam_id])!=='undefined'&&WatuPROSettings[this.exam_id].singleChoiceAction=='next'&&WatuPROSettings[this.exam_id].singleChoiceActionHideNext==1){if(jQuery('.answerTypeCnt'+WatuPRO.current_question).val()=='radio')jQuery("#next-question").hide();}}
WatuPRO.initWatu=function(){WatuPRO.total_questions=jQuery(".watu-question").length;if(!WatuPRO.pagePreLoaded){this.hilitePage(this.current_question,false);WatuPRO.maybeHideNext();}
else{WatuPRO.goto(null,WatuPRO.current_question);}
if(WatuPRO.total_questions==1){jQuery("#next-question").hide();jQuery("#prev-question").hide();jQuery("#show-answer").hide();}else{}
jQuery('.watupro-paginator-wrap').show();var quizID=WatuPRO.exam_id;if(jQuery('#watuPROAppID'+quizID).length>0){WatuPRO.hAppID='_'+jQuery('#watuPROAppSourceID'+quizID).val();jQuery('#watuPROAppID'+quizID).val(WatuPRO.hAppID);}
if(watupro_i18n.disable_copy==1){jQuery('.quiz-form').bind("cut copy",function(e){e.preventDefault();});jQuery('.quiz-form').bind("contextmenu",function(e){e.preventDefault();});}
if(typeof(WatuPROSettings[quizID])=='undefined')return true;if(WatuPROSettings[quizID].singleChoiceAction=='show'||WatuPROSettings[quizID].singleChoiceAction=='next'){jQuery('#quiz-'+quizID+' input[type=radio].answer').click(function(e){var classes=jQuery(this).attr('class');var parts=classes.split(' ');for(i=0;i<parts.length;i++){if(parts[i].indexOf('answerof-')>-1){var sparts=parts[i].split('-');var questionID=sparts[1];var par=jQuery(this).closest('div[class^="watu-question"]');var wrapID=jQuery(par).attr("id");var qparts=wrapID.split('-');var curQues=qparts[1];if(WatuPROSettings[quizID].singleChoiceAction=='show')return WatuPRO.liveResult(questionID,curQues);if(WatuPROSettings[quizID].singleChoiceAction=='next'&&!WatuPRO.inCategoryPages){if(curQues>=WatuPRO.qArr.length){WatuPRO.submitResult(e);return true;}
WatuPRO.current_question=curQues;WatuPRO.nextQuestion(e);return true;}}}});}}
WatuPRO.takingDetails=async function(id){var w=window.innerWidth*.6;var h=window.innerHeight*.85;w=parseInt(w);h=parseInt(h);let promise=new Promise((resolve,reject)=>{var res=tb_show(watupro_i18n.taking_details,watupro_i18n.ajax_url+"?action=watupro_taking_details&width="+w+"&height="+h+"&id="+id,watupro_i18n.ajax_url);setTimeout(()=>resolve("done!"),1500);});let mathjaxload=await promise;if(mathjaxload){if(typeof MathJax!='undefined')MathJax.typeset();}}
WatuPRO.nextCategory=function(numCats,dir,noHiliteQuestion,dontCheckRequired,qPaginator){this.curCatPage=this.curCatPage||1;noHiliteQuestion=noHiliteQuestion||0;dontCheckRequired=dontCheckRequired||0;qPaginator=qPaginator||null;if(!WatuPRO.forceSubmit&&!dontCheckRequired&&dir){for(i=0;i<WatuPRO.requiredIDs.length;i++){if(!jQuery('#catDiv'+this.curCatPage+' #watupro-required-question-'+WatuPRO.requiredIDs[i]).length)continue;if(!this.isAnswered(WatuPRO.requiredIDs[i])){var msg=watupro_i18n.missed_required_question_num;var qid=jQuery('.watupro-question-id-'+WatuPRO.requiredIDs[i]).attr('id');var numParts=qid.split('-');var numQ=numParts[1];msg=msg.replace('%s',numQ);alert(msg);return false;}}}
this.stopAudios();if(dir)this.curCatPage++;else this.curCatPage--;jQuery('.watupro_catpage').hide();jQuery('#catDiv'+this.curCatPage).show();jQuery('#catDiv'+this.curCatPage+' .watu-question').each(function(i,elt){jQuery(elt).show();});if(this.curCatPage>=numCats){jQuery('#watuproNextCatButton').hide();jQuery('#action-button').show();if(jQuery('#WTPReCaptcha').length)jQuery('#WTPReCaptcha').show();if(jQuery('#WatuPROTextCaptcha').length)jQuery('#WatuPROTextCaptcha').show();}
else{jQuery('#watuproNextCatButton').show();if(jQuery('#WTPReCaptcha').length)jQuery('#WTPReCaptcha').hide();if(jQuery('#WatuPROTextCaptcha').length)jQuery('#WatuPROTextCaptcha').hide();}
if(this.curCatPage<=1)jQuery('#watuproPrevCatButton').hide();else jQuery('#watuproPrevCatButton').show();if(!WatuPRO.dontScroll&&!qPaginator){jQuery('html, body').animate({scrollTop:jQuery('#watupro_quiz').offset().top-50},1000);}
WatuPRO.progressBar(this.curCatPage,WatuPRO.exam_id);if(jQuery('ul.watupro-paginator').length&&!noHiliteQuestion){var curQuestionDiv=jQuery("#catDiv"+this.curCatPage+" div.watu-question:first").attr('id');var parts=curQuestionDiv.split('-');var qNum=parts[1];jQuery('ul.watupro-paginator li.active').removeClass('active');jQuery('#WatuPROPagination'+qNum).addClass('active');}
jQuery('ul#WatuPROCatPaginator'+WatuPRO.exam_id+' li').removeClass('active');jQuery('li.watupro-cat-pagination-page-'+this.curCatPage).addClass('active');if(this.store_progress)this.saveResult(false);}
WatuPRO.liveResult=function(questionID,curQues){questionID=questionID||null;curQues=curQues||null;if(!questionID)questionID=jQuery("#qID_"+WatuPRO.current_question).val();if(!curQues)curQues=WatuPRO.current_question;if(!WatuPRO.isAnswered(questionID)&&typeof WatuPRO.LiveResultNoAnswer=='undefined'){alert(watupro_i18n.please_answer);return false;}
jQuery('#questionWrap-'+curQues).hide();jQuery('#liveResult-'+curQues).css('min-height',jQuery('#questionWrap-'+curQues).height()+'px');jQuery('#liveResult-'+curQues).show();if(curQues)jQuery('.liveResultBtn'+curQues).hide();jQuery('#liveResultBtn').hide();var numHints=jQuery('#questionHints'+questionID+' .watupro-hint').length;var data={"action":'watupro_liveresult',"quiz_id":WatuPRO.exam_id,'question_id':questionID,'num_hints_used':numHints,'question_num':curQues,"watupro_questions":jQuery('#quiz-'+WatuPRO.exam_id+' input[name=watupro_questions]').val()};data=WatuPRO.completeData(data);jQuery.post(WatuPRO.siteURL,data,function(msg){jQuery('#liveResult-'+curQues).html(msg);if(jQuery('#liveResBtn-'+questionID).length>0)jQuery('#liveResBtn-'+questionID).hide();if(typeof MathJax!='undefined'){if(typeof MathJax.Hub!='undefined')MathJax.Hub.Queue(["Typeset",MathJax.Hub,"liveResult-"+curQues]);MathJax.typeset();}
try{watuproUnmarkReview(questionID);}catch(err){};});}
WatuPRO.maxSelections=function(id,num,chk){var cnt=jQuery(".answerof-"+id+":checked").length;if(cnt>num){chk.checked=false;return false;}
return true;}
WatuPRO.saveResult=function(e){var curCatPage=0;if(typeof(this.curCatPage)!='undefined')curCatPage=this.curCatPage;data={'action':'watupro_store_all','question_ids':this.qArr,"exam_id":this.exam_id,'watupro_questions':jQuery('#quiz-'+this.exam_id+' input[name=watupro_questions]').val(),'current_question':this.current_question,'current_catpage':curCatPage};data=this.completeData(data);jQuery.post(WatuPRO.siteURL,data,function(msg){if(e)alert(watupro_i18n.selections_saved);});}
WatuPRO.getHints=function(qid){var numHints=jQuery('#questionHints'+qid+' .watupro-hint').length;var numHintsTotal=jQuery('div.watupro-hint').length;data={'action':'watupro_get_hints','qid':qid,"exam_id":this.exam_id,"num_hints":numHints,"num_hints_total":numHintsTotal};jQuery.post(WatuPRO.siteURL,data,function(msg){parts=msg.split("|WATUPRO|");if(parts[0]=='ERROR')alert(parts[1]);else jQuery('#questionHints'+qid).append(parts[1]);if(parts[2]&&parts[2]=='nomorehints')jQuery('#questionHintLink'+qid).hide();WatuPRO.saveResult(false);});}
WatuPRO.startButton=function(){if(!WatuPRO.validateEmailName(true))return false;if(jQuery('#watuproContactDetails-'+WatuPRO.exam_id+'-start').length&&jQuery('#quiz-'+WatuPRO.exam_id+' input[name=no_ajax]').length&&jQuery('#quiz-'+WatuPRO.exam_id+' input[name=no_ajax]').val()==1){jQuery('#watuproContactDetails-'+WatuPRO.exam_id+'-start input').each(function(i,fld){fld.type='hidden';jQuery('#quiz-'+WatuPRO.exam_id).append(fld);});jQuery('#watuproContactDetails-'+WatuPRO.exam_id+'-start select').each(function(i,fld){fld.type='hidden';fld.style.display='none';jQuery('#quiz-'+WatuPRO.exam_id).append(fld);});}
if(jQuery('#watuproContactDetails-'+WatuPRO.exam_id+'-start').length&&WatuPRO.takingsByEmail){data={'action':'watupro_ajax',"exam_id":this.exam_id,'do':'takings_by_email',"email":jQuery('#watuproTakerEmail'+this.exam_id).val(),'allowed_attempts':WatuPRO.takingsByEmail};jQuery.post(WatuPRO.siteURL,data,function(msg){parts=msg.split("|WATUPRO|");if(parts[0]=='ERROR'){alert(parts[1]);jQuery('#quiz-'+WatuPRO.exam_id).hide();jQuery('#description-quiz-'+WatuPRO.exam_id).show();return false;}});}
jQuery('#quiz-'+this.exam_id).show();jQuery('#description-quiz-'+this.exam_id).hide();if(!WatuPRO.dontScrollStart&&jQuery(document).scrollTop()>250){jQuery('html, body').animate({scrollTop:jQuery('#watupro_quiz').offset().top-100},500);}
if(typeof WatuPROTrackStart!='undefined'&&WatuPROTrackStart!=null){WTPTracker.track(WatuPROTrackStart.category,WatuPROTrackStart.action,WatuPROTrackStart.label,WatuPROTrackStart.value);}}
WatuPRO.validateEmailName=function(skipAutoGenerated){if(WatuPRO.forceSubmit)return true;jQuery('.watupro-contact-error').html('');if(jQuery('#watuproContactDetails-'+WatuPRO.exam_id+'-end').length){if(skipAutoGenerated)return true;if(jQuery('#watuproContactDetails-'+WatuPRO.exam_id+'-end').is(':hidden')){if(this.examMode==0)this.current_question=this.total_questions;if(this.examMode==2)this.curCatPage=this.numCats;jQuery('#quiz-'+WatuPRO.exam_id+' .watupro-paginator-wrap').hide();jQuery('#quiz-'+WatuPRO.exam_id+' div.watu-question').hide();jQuery('#quiz-'+WatuPRO.exam_id+' input[type=button]').not('#action-button').hide();jQuery('#quiz-'+WatuPRO.exam_id+' div.watupro_catpage h3').hide();jQuery('#quiz-'+WatuPRO.exam_id+' div.watupro_catpage').hide();jQuery('#prev-question').hide();jQuery('#watuproPrevCatButton').hide();jQuery('.watu-question').hide();jQuery('#watuproContactDetails-'+WatuPRO.exam_id+'-end').show('slow');jQuery('html,body').animate({scrollTop:jQuery('#watuproContactDetails-'+WatuPRO.exam_id+'-end').offset().top-50},'slow');return false;}}
var skipAutoGenerated=skipAutoGenerated|false;if(jQuery('#watuproTakerEmail'+WatuPRO.exam_id).length){var emailVal=jQuery('#watuproTakerEmail'+WatuPRO.exam_id).val();wronglyEmpty=notEmptyInvalid=false;if((emailVal==''&&!this.emailIsNotRequired&&!jQuery('#watuproTakerEmail'+WatuPRO.exam_id).hasClass('optional')))wronglyEmpty=true;if(emailVal!=''&&(emailVal.indexOf('@')<0||emailVal.indexOf('.')<1))notEmptyInvalid=true;if((wronglyEmpty||notEmptyInvalid)&&(!skipAutoGenerated||!jQuery('#watuproTakerEmail'+WatuPRO.exam_id).hasClass('watupro-autogenerated'))){jQuery('#watuproTakerEmailError'+WatuPRO.exam_id).html(watupro_i18n.email_required);jQuery('#watuproTakerEmail'+WatuPRO.exam_id).focus();return false;}}
if(jQuery('#watuproTakerName'+WatuPRO.exam_id).length){var nameVal=jQuery('#watuproTakerName'+WatuPRO.exam_id).val();if(nameVal==''&&!jQuery('#watuproTakerName'+WatuPRO.exam_id).hasClass('optional')){jQuery('#watuproTakerNameError'+WatuPRO.exam_id).html(watupro_i18n.name_required);jQuery('#watuproTakerName'+WatuPRO.exam_id).focus();return false;}}
var canSubmit=true;jQuery('div.watupro-ask-for-contact-quiz-'+WatuPRO.exam_id+' input.watupro-contact-required').each(function(i,obj){if(obj.type=='checkbox'){if(!obj.checked){jQuery('#'+obj.id+'Error').html(watupro_i18n.field_required);}}
if((obj.type=='text'&&obj.value=='')||(obj.type=='checkbox'&&!obj.checked)){jQuery('#'+obj.id+'Error').html(watupro_i18n.field_required);obj.focus();canSubmit=false;return false;}});if(!canSubmit)return false;return true;}
WatuPRO.stopAudios=function(){var audios=jQuery(".watu-question audio");if(audios){var i;for(i=0;i<audios.length;i++){audios[i].pause();}}}
WatuPRO.progressBar=function(pageNum,examID){let varWidth=0;if(this.progressBarMode=='pages'){if(jQuery('#watupro-progress-bar-'+examID).length==0)return true;barWidth=Math.round(100*(pageNum-1)/jQuery('#watupro-progress-bar-pages-'+examID).val());}
else{let totalQ=numAnswered=0;jQuery('.watupro-question-id').each(function(i,elt){totalQ++;if(WatuPRO.isAnswered(elt.value))numAnswered++;});barWidth=totalQ?Math.round(100*numAnswered/totalQ):0;}
jQuery('#watupro-progress-bar-'+examID).animate({width:barWidth+'%'},500);if(jQuery('#watupro-progress-bar-percent-'+examID).length){jQuery('#watupro-progress-bar-percent-'+examID).html(barWidth+'%');}}
WatuPRO.unselect=function(btn,questionID){jQuery('.answerof-'+questionID).removeAttr('checked');jQuery(btn).hide();}
WatuPRO.showHideUnselect=function(chk,questionID){if(chk.checked)jQuery('#watuPROUnselect-'+questionID).show();else{var anyChecked=false;jQuery('.answerof-'+questionID).each(function(i,chk){if(chk.checked)anyChecked=true;});if(anyChecked)jQuery('#watuPROUnselect-'+questionID).show();else jQuery('#watuPROUnselect-'+questionID).hide();}}
WatuPRO.paginateAnswersTable=function(dir,cnt,perDecade){jQuery('.answers-decade-'+WatuPRO.currentAnswersDecade).hide();if(dir=='next'){WatuPRO.currentAnswersDecade++;jQuery('.answers-decade-'+WatuPRO.currentAnswersDecade).show();jQuery('#WatuPROanswersTablePrevLink').show();if(cnt<=WatuPRO.currentAnswersDecade*perDecade)jQuery('#WatuPROanswersTableNextLink').hide();}
if(dir=='prev'){WatuPRO.currentAnswersDecade--;jQuery('.answers-decade-'+WatuPRO.currentAnswersDecade).show();jQuery('#WatuPROanswersTableNextLink').show();if(WatuPRO.currentAnswersDecade==1)jQuery('#WatuPROanswersTablePrevLink').hide();}
if(!isNaN(dir)){WatuPRO.currentAnswersDecade=dir;jQuery('.answers-decade-'+WatuPRO.currentAnswersDecade).show();if(cnt<=WatuPRO.currentAnswersDecade*perDecade)jQuery('#WatuPROanswersTableNextLink').hide();else jQuery('#WatuPROanswersTableNextLink').show();if(WatuPRO.currentAnswersDecade==1)jQuery('#WatuPROanswersTablePrevLink').hide();else jQuery('#WatuPROanswersTablePrevLink').show();}}
WatuPRO.FBShare=function(url,title,desc,picture){var quote='';quote=decodeURI(title)+"\n"+decodeURIComponent(desc);FB.ui({method:'share',href:url,quote:quote,},function(response){});}
WatuPRO.InitializeTimer=function(timeLimit,examID,showQuestions){if(showQuestions&&!WatuPRO.validateEmailName(true))return false;if(typeof WatuPROTrackStart!='undefined'&&WatuPROTrackStart!=null){WTPTracker.track(WatuPROTrackStart.category,WatuPROTrackStart.action,WatuPROTrackStart.label,WatuPROTrackStart.value);}
if(showQuestions){jQuery('#watuproTimerForm'+examID+' input[name=watupro_start_timer]').val(1);if(jQuery('#watuproTakerEmail'+WatuPRO.exam_id).length)jQuery('#watuproTimerForm'+examID+' input[name=watupro_taker_email]').val(jQuery('#watuproTakerEmail'+WatuPRO.exam_id).val());if(jQuery('#watuproTakerName'+WatuPRO.exam_id).length)jQuery('#watuproTimerForm'+examID+' input[name=watupro_taker_name]').val(jQuery('#watuproTakerName'+WatuPRO.exam_id).val());if(jQuery('#watuproTakerPhone'+WatuPRO.exam_id).length)jQuery('#watuproTimerForm'+examID+' input[name=watupro_taker_phone]').val(jQuery('#watuproTakerPhone'+WatuPRO.exam_id).val());if(jQuery('#watuproTakerCompany'+WatuPRO.exam_id).length)jQuery('#watuproTimerForm'+examID+' input[name=watupro_taker_company]').val(jQuery('#watuproTakerCompany'+WatuPRO.exam_id).val());if(jQuery('#watuproTakerField1'+WatuPRO.exam_id).length)jQuery('#watuproTimerForm'+examID+' input[name=watupro_taker_field1]').val(jQuery('#watuproTakerField1'+WatuPRO.exam_id).val());if(jQuery('#watuproTakerField2'+WatuPRO.exam_id).length)jQuery('#watuproTimerForm'+examID+' input[name=watupro_taker_field2]').val(jQuery('#watuproTakerField2'+WatuPRO.exam_id).val());if(jQuery('#watuproTakerCheckbox'+WatuPRO.exam_id).length)jQuery('#watuproTimerForm'+examID+' input[name=watupro_taker_checkbox]').val(jQuery('#watuproTakerCheckbox'+WatuPRO.exam_id).val());document.getElementById('watuproTimerForm'+examID).submit();return false;}
WatuPRO.startedTime=jQuery('#startTimeStamp').val();if(timeLimit>0){data={exam_id:WatuPRO.exam_id,'action':'watupro_initialize_timer'};jQuery.post(WatuPRO.siteURL,data,function(msg){parts=msg.split("<!--WATUPRO_TIME-->");var d=new Date();d.setTime(d.getTime()+(24*3600*1000));var expires="expires="+d.toUTCString();document.cookie="start_time"+WatuPRO.exam_id+"="+parts[1]+";"+expires+";path=/";jQuery('#startTime').val(parts[1]);WatuPRO.startedTime=parts[1];if(WatuPRO.timerAdjustedBySchedule)WatuPRO.startedTime=parts[2];WatuPRO.currentTime=parts[2];});}
WatuPRO.secs=timeLimit;WatuPRO.StopTheClock();WatuPRO.StartTheTimer();if(!this.autoSubmitted)WatuPRO.saveResult(false);jQuery('html, body').animate({scrollTop:jQuery("#timerDiv").offset().top-100},500);}
WatuPRO.StopTheClock=function(){if(WatuPRO.timerRunning);clearTimeout(WatuPRO.timerID);WatuPRO.timerRunning=false;}
WatuPRO.pad=function(str,max){str=str.toString();return str.length<max?this.pad("0"+str,max):str;}
WatuPRO.StartTheTimer=function(){if(WatuPRO.secs<=0){WatuPRO.StopTheClock();document.getElementById('timerDiv').innerHTML="<h2 style='color:red';>"+watupro_i18n.time_over+"</h2>";WatuPRO.forceSubmit=true;WatuPRO.autoSubmitted=true;document.cookie="start_time"+WatuPRO.exam_id+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";WatuPRO.submitResult();}
else{if(WatuPRO.secs<60)secsText=WatuPRO.secs+" "+watupro_i18n.seconds;else{var secondsLeft=Math.round(WatuPRO.secs%60);if(watupro_i18n.seconds=='')secondsLeft=WatuPRO.pad(secondsLeft,2);var mins=Math.round((WatuPRO.secs-secondsLeft)/60);if(mins<60){secsText=mins+watupro_i18n.minutes_and+secondsLeft+watupro_i18n.seconds;}
else{var minsLeft=mins%60;var hours=(mins-minsLeft)/60;if(watupro_i18n.minutes_and==':')minsLeft=WatuPRO.pad(minsLeft,2);secsText=hours+watupro_i18n.hours+minsLeft+watupro_i18n.minutes_and+secondsLeft+watupro_i18n.seconds;}}
document.getElementById('timerDiv').innerHTML=watupro_i18n.time_left+" "+secsText;if(WatuPRO.TimerTurnsRed&&WatuPRO.secs<=WatuPRO.TimerTurnsRed)document.getElementById('timerDiv').style.color='red';if(WatuPRO.jsTimeDiff==null){WatuPRO.jsTimeDiff=Date.now()-WatuPRO.currentTime*1000;}
var adjustedNow=Date.now()-WatuPRO.jsTimeDiff;var secsPassed=adjustedNow-WatuPRO.startedTime*1000;secsPassed=Math.floor(secsPassed/1000);WatuPRO.secs=WatuPRO.fullTimeLimit-secsPassed;WatuPRO.timerRunning=true;WatuPRO.timerID=self.setTimeout("WatuPRO.StartTheTimer()",500);}}
jQuery(window).on("load",function(){WatuPRO.initWatu();});;WatuPROIntel={};WatuPROPractice={};WatuPROPractice.submit=function(){jQuery('#watuPracticeFeedback').show();jQuery('#watuPracticeFeedback').html("<p>"+watupro_i18n.please_wait_feedback+"</p>");jQuery('#questionDiv'+this.curID).hide();data={"id":this.curID,"answer":this.getAnswer(this.curID),"action":"watupro_practice_submit"};var self=this;jQuery.post(WatuPRO.siteURL,data,function(msg){var nextID=self.allIDs[0];var getNext=false;for(x in self.allIDs)
{if(getNext)
{nextID=self.allIDs[x];break;}
if(self.allIDs[x]==self.curID)getNext=true;}
self.curID=nextID;msg+="<p align='center'><input type='button' onclick=\"jQuery('#questionDiv"+self.curID+"').show();jQuery('#watuPracticeFeedback').hide();jQuery('#watuPROCheckButton').show();\" value='&gt;&gt;&gt;'></p>";jQuery('#watuPracticeFeedback').html(msg);jQuery('#watuPROCheckButton').hide();jQuery('#watuPROPracticeForm'+self.examID)[0].reset();if(typeof MathJax!='undefined')MathJax.Hub.Queue(["Typeset",MathJax.Hub,"watuPracticeFeedback"]);});}
WatuPROPractice.getAnswer=function(questionID){var ansvalues=[];var ansgroup='.answerof-'+questionID;var answerType=jQuery('#answerType'+questionID).val();i=0;if(answerType=='textarea'){ansvalues[0]=jQuery('#textarea_q_'+questionID).val();}
else{jQuery(ansgroup).each(function(){if(jQuery(this).is(':checked')||answerType=='gaps'||answerType=='sort'||answerType=='matrix'||answerType=='nmatrix'||answerType=='slider'){ansvalues[i]=this.value;i++;}});}
return ansvalues;}
WatuPRODep={};WatuPRODep.forceNumber=function(item)
{if(isNaN(item.value)||item.value=="")item.value=0;}
WatuPRODep.lockDetails=function(examID,adminURL)
{adminURL=adminURL||"";tb_show("Taking Details",adminURL+"admin-ajax.php?action=watupro_lock_details&exam_id="+examID,"admin-ajax.php");}
WatuPROSort={};WatuPROSort.sortable=function(event,ui){var id=jQuery(ui.item).parent().attr('id');var valID=id.replace('watuPROSortable','watuPROSortableValue');var positions=jQuery("#"+id).sortable('toArray');var sortedAnswers="";for(i=0;i<positions.length;i++){var parts=jQuery('#'+positions[i]).html().split("<!--|||");val=parts[1].substring(0,parts[1].length-3);sortedAnswers+=val+"|";}
jQuery('#'+valID).val(sortedAnswers);}
WatuPROPay={};WatuPROPay.payWithPoints=function(id,url,isBundle,redirectURL){isBundle=isBundle||0;redirectURL=redirectURL||'';data={"id":id,"is_bundle":isBundle};jQuery.post(url,data,function(msg){if(msg=='SUCCESS'){if(redirectURL)window.location=redirectURL;else{window.location=window.location+"?paid=1";window.location.reload();}}
else alert(msg);});}
WatuPROPay.payWithMoolaMojo=function(id,url,isBundle,redirectURL){isBundle=isBundle||0;redirectURL=redirectURL||'';data={"id":id,"is_bundle":isBundle};jQuery.post(url,data,function(msg){if(msg=='SUCCESS'){if(redirectURL)window.location=redirectURL;else{window.location=window.location+"?paid=1";window.location.reload();}}
else alert(msg);});}
WatuPROIDroppable={};WatuPROIDroppable.drop=function(event,ui){dropID=event.target.id;jQuery('#'+dropID).addClass('watupro-droppable-hover');var ansVal=ui.draggable[0].innerHTML;ansVal=ansVal.split('<!--WTPMD5');ansVal=ansVal[1].replace('-->','');jQuery('#field-'+dropID).val(ansVal);}
WatuPROINMatrix={reservedNums:[],};WatuPROINMatrix.sel=function(elt,dropID,ansNum){var questionTable=jQuery('#'+dropID).closest('table');jQuery(questionTable).find('.watupro-nmatrix-answer-field').each(function(cnt,fld){if(fld.value!=''){var parentTD=jQuery(fld).parent();jQuery(parentTD).find('.watupro-matrix-draggable').each(function(dct,div){var ansVal=div.innerHTML;ansVal=ansVal.split('<!--WTPMD5');ansValParts=ansVal[1].split('-->');ansVal=ansValParts[0];if(ansVal==fld.value)jQuery(div).addClass('watupro-nmatrix-selected');});}});if(jQuery(elt).hasClass('watupro-nmatrix-selected')){jQuery(elt).removeClass('watupro-nmatrix-selected');this.reservedNums=this.reservedNums.filter(function(e){return e!==ansNum});var notClasses='';for(i=0;i<this.reservedNums.length;i++){notClasses+=':not(.watupro-nmatrix-answer-'+this.reservedNums[i]+')';}
jQuery('#'+dropID+' div.question-choices div.watupro-matrix-right div.watupro-matrix-draggable:not(.watupro-nmatrix-selected)'+notClasses).show('slow');jQuery(questionTable).find('.watupro-nmatrix-answer-field').each(function(cnt,fld){if(fld.value==''){var parentTD=jQuery(fld).parent();jQuery(parentTD).find('.watupro-nmatrix-answer-'+ansNum).show();}
jQuery(parentTD).find('.watupro-nmatrix-answer-'+ansNum).removeClass('watupro-nmatrix-hidden');});jQuery('#field-'+dropID).val('');return false;}
var ansVal=elt.innerHTML;ansVal=ansVal.split('<!--WTPMD5');ansValParts=ansVal[1].split('-->');ansVal=ansValParts[0];jQuery('#field-'+dropID).val(ansVal);jQuery(elt).addClass('watupro-nmatrix-selected');jQuery('#'+dropID+' div.question-choices div.watupro-matrix-right div.watupro-matrix-draggable:not(.watupro-nmatrix-selected)').hide('slow');var table=jQuery('#'+dropID).closest('table');var tableID=jQuery(table).attr('id');jQuery('#'+tableID+' .watupro-nmatrix-answer-'+ansNum+':not(.watupro-nmatrix-selected)').hide('slow');this.reservedNums.push(ansNum);}
WatuPROIntel.runTimeLogic=function(msg){if(msg=='continue'||msg=='')return true;if(msg=='end'){WatuPRO.forceSubmit=true;WatuPRO.premature_end=1;WatuPRO.submitResult();}
if(msg=='stop'){alert(watupro_i18n.cant_continue_low_correct_percent);WatuPRO.nextQuestion(null,'previous');}
return true;}
WatuPROIntel.init=function(quizID){}
;/*! jQuery UI - v1.13.1 - 2022-01-20
* http://jqueryui.com
* Includes: data.js, disable-selection.js, escape-selector.js, focusable.js, form-reset-mixin.js, form.js, ie.js, jquery-1-7.js, keycode.js, labels.js, plugin.js, position.js, safe-active-element.js, safe-blur.js, scroll-parent.js, tabbable.js, unique-id.js, version.js, widget.js
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(x){"use strict";var t,e,i,n,W,C,o,s,r,l,a,h,u;function E(t,e,i){return[parseFloat(t[0])*(a.test(t[0])?e/100:1),parseFloat(t[1])*(a.test(t[1])?i/100:1)]}function L(t,e){return parseInt(x.css(t,e),10)||0}function N(t){return null!=t&&t===t.window}x.ui=x.ui||{},x.ui.version="1.13.1",
/*!
 * jQuery UI :data 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.extend(x.expr.pseudos,{data:x.expr.createPseudo?x.expr.createPseudo(function(e){return function(t){return!!x.data(t,e)}}):function(t,e,i){return!!x.data(t,i[3])}}),
/*!
 * jQuery UI Disable Selection 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),
/*!
 * jQuery UI Focusable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.ui.focusable=function(t,e){var i,n,o,s,r=t.nodeName.toLowerCase();return"area"===r?(n=(i=t.parentNode).name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&(0<(n=x("img[usemap='#"+n+"']")).length&&n.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(r)?(o=!t.disabled)&&(s=x(t).closest("fieldset")[0])&&(o=!s.disabled):o="a"===r&&t.href||e,o&&x(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"visible"===e}(x(t)))},x.extend(x.expr.pseudos,{focusable:function(t){return x.ui.focusable(t,null!=x.attr(t,"tabindex"))}}),x.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):x(this[0].form)},
/*!
 * jQuery UI Form Reset Mixin 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.ui.formResetMixin={_formResetHandler:function(){var e=x(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");x.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element._form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(x.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
/*!
 * jQuery UI Support for jQuery core 1.8.x and newer 1.13.0
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
x.expr.pseudos||(x.expr.pseudos=x.expr[":"]),x.uniqueSort||(x.uniqueSort=x.unique),x.escapeSelector||(e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,i=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},x.escapeSelector=function(t){return(t+"").replace(e,i)}),x.fn.even&&x.fn.odd||x.fn.extend({even:function(){return this.filter(function(t){return t%2==0})},odd:function(){return this.filter(function(t){return t%2==1})}}),
/*!
 * jQuery UI Keycode 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},
/*!
 * jQuery UI Labels 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.fn.labels=function(){var t,e,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),(t=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),t="label[for='"+x.escapeSelector(t)+"']",e=e.add(i.find(t).addBack(t))),this.pushStack(e)):this.pushStack([])},x.ui.plugin={add:function(t,e,i){var n,o=x.ui[t].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([e,i[n]])},call:function(t,e,i,n){var o,s=t.plugins[e];if(s&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)t.options[s[o][0]]&&s[o][1].apply(t.element,i)}},
/*!
 * jQuery UI Position 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
W=Math.max,C=Math.abs,o=/left|center|right/,s=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,a=/%$/,h=x.fn.position,x.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,e=x("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),i=e.children()[0];return x("body").append(e),t=i.offsetWidth,e.css("overflow","scroll"),t===(i=i.offsetWidth)&&(i=e[0].clientWidth),e.remove(),n=t-i},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),e="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?x.position.scrollbarWidth():0,height:e?x.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=x(t||window),i=N(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:n,offset:!i&&!n?x(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},x.fn.position=function(f){if(!f||!f.of)return h.apply(this,arguments);var c,d,p,g,m,t,v="string"==typeof(f=x.extend({},f)).of?x(document).find(f.of):x(f.of),y=x.position.getWithinInfo(f.within),w=x.position.getScrollInfo(y),b=(f.collision||"flip").split(" "),_={},e=9===(t=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:N(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};return v[0].preventDefault&&(f.at="left top"),d=e.width,p=e.height,m=x.extend({},g=e.offset),x.each(["my","at"],function(){var t,e,i=(f[this]||"").split(" ");(i=1===i.length?o.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]:i)[0]=o.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",t=r.exec(i[0]),e=r.exec(i[1]),_[this]=[t?t[0]:0,e?e[0]:0],f[this]=[l.exec(i[0])[0],l.exec(i[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===f.at[0]?m.left+=d:"center"===f.at[0]&&(m.left+=d/2),"bottom"===f.at[1]?m.top+=p:"center"===f.at[1]&&(m.top+=p/2),c=E(_.at,d,p),m.left+=c[0],m.top+=c[1],this.each(function(){var i,t,r=x(this),l=r.outerWidth(),a=r.outerHeight(),e=L(this,"marginLeft"),n=L(this,"marginTop"),o=l+e+L(this,"marginRight")+w.width,s=a+n+L(this,"marginBottom")+w.height,h=x.extend({},m),u=E(_.my,r.outerWidth(),r.outerHeight());"right"===f.my[0]?h.left-=l:"center"===f.my[0]&&(h.left-=l/2),"bottom"===f.my[1]?h.top-=a:"center"===f.my[1]&&(h.top-=a/2),h.left+=u[0],h.top+=u[1],i={marginLeft:e,marginTop:n},x.each(["left","top"],function(t,e){x.ui.position[b[t]]&&x.ui.position[b[t]][e](h,{targetWidth:d,targetHeight:p,elemWidth:l,elemHeight:a,collisionPosition:i,collisionWidth:o,collisionHeight:s,offset:[c[0]+u[0],c[1]+u[1]],my:f.my,at:f.at,within:y,elem:r})}),f.using&&(t=function(t){var e=g.left-h.left,i=e+d-l,n=g.top-h.top,o=n+p-a,s={target:{element:v,left:g.left,top:g.top,width:d,height:p},element:{element:r,left:h.left,top:h.top,width:l,height:a},horizontal:i<0?"left":0<e?"right":"center",vertical:o<0?"top":0<n?"bottom":"middle"};d<l&&C(e+i)<d&&(s.horizontal="center"),p<a&&C(n+o)<p&&(s.vertical="middle"),W(C(e),C(i))>W(C(n),C(o))?s.important="horizontal":s.important="vertical",f.using.call(this,t,s)}),r.offset(x.extend(h,{using:t}))})},x.ui.position={fit:{left:function(t,e){var i=e.within,n=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,r=n-s,l=s+e.collisionWidth-o-n;e.collisionWidth>o?0<r&&l<=0?(i=t.left+r+e.collisionWidth-o-n,t.left+=r-i):t.left=!(0<l&&r<=0)&&l<r?n+o-e.collisionWidth:n:0<r?t.left+=r:0<l?t.left-=l:t.left=W(t.left-s,t.left)},top:function(t,e){var i=e.within,n=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,r=n-s,l=s+e.collisionHeight-o-n;e.collisionHeight>o?0<r&&l<=0?(i=t.top+r+e.collisionHeight-o-n,t.top+=r-i):t.top=!(0<l&&r<=0)&&l<r?n+o-e.collisionHeight:n:0<r?t.top+=r:0<l?t.top-=l:t.top=W(t.top-s,t.top)}},flip:{left:function(t,e){var i=e.within,n=i.offset.left+i.scrollLeft,o=i.width,s=i.isWindow?i.scrollLeft:i.offset.left,r=t.left-e.collisionPosition.marginLeft,l=r-s,a=r+e.collisionWidth-o-s,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,i="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,r=-2*e.offset[0];l<0?((n=t.left+h+i+r+e.collisionWidth-o-n)<0||n<C(l))&&(t.left+=h+i+r):0<a&&(0<(s=t.left-e.collisionPosition.marginLeft+h+i+r-s)||C(s)<a)&&(t.left+=h+i+r)},top:function(t,e){var i=e.within,n=i.offset.top+i.scrollTop,o=i.height,s=i.isWindow?i.scrollTop:i.offset.top,r=t.top-e.collisionPosition.marginTop,l=r-s,a=r+e.collisionHeight-o-s,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,i="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,r=-2*e.offset[1];l<0?((n=t.top+h+i+r+e.collisionHeight-o-n)<0||n<C(l))&&(t.top+=h+i+r):0<a&&(0<(s=t.top-e.collisionPosition.marginTop+h+i+r-s)||C(s)<a)&&(t.top+=h+i+r)}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},x.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return i=!(i=i||e.body).nodeName?e.body:i},x.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&x(t).trigger("blur")},
/*!
 * jQuery UI Scroll Parent 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=x(this);return(!i||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&t.length?t:x(this[0].ownerDocument||document)},
/*!
 * jQuery UI Tabbable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.extend(x.expr.pseudos,{tabbable:function(t){var e=x.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&x.ui.focusable(t,i)}}),
/*!
 * jQuery UI Unique ID 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
x.fn.extend({uniqueId:(u=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&x(this).removeAttr("id")})}});
/*!
 * jQuery UI Widget 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var f,c=0,d=Array.prototype.hasOwnProperty,p=Array.prototype.slice;x.cleanData=(f=x.cleanData,function(t){for(var e,i,n=0;null!=(i=t[n]);n++)(e=x._data(i,"events"))&&e.remove&&x(i).triggerHandler("remove");f(t)}),x.widget=function(t,i,e){var n,o,s,r={},l=t.split(".")[0],a=l+"-"+(t=t.split(".")[1]);return e||(e=i,i=x.Widget),Array.isArray(e)&&(e=x.extend.apply(null,[{}].concat(e))),x.expr.pseudos[a.toLowerCase()]=function(t){return!!x.data(t,a)},x[l]=x[l]||{},n=x[l][t],o=x[l][t]=function(t,e){if(!this||!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},x.extend(o,n,{version:e.version,_proto:x.extend({},e),_childConstructors:[]}),(s=new i).options=x.widget.extend({},s.options),x.each(e,function(e,n){function o(){return i.prototype[e].apply(this,arguments)}function s(t){return i.prototype[e].apply(this,t)}r[e]="function"==typeof n?function(){var t,e=this._super,i=this._superApply;return this._super=o,this._superApply=s,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}:n}),o.prototype=x.widget.extend(s,{widgetEventPrefix:n&&s.widgetEventPrefix||t},r,{constructor:o,namespace:l,widgetName:t,widgetFullName:a}),n?(x.each(n._childConstructors,function(t,e){var i=e.prototype;x.widget(i.namespace+"."+i.widgetName,o,e._proto)}),delete n._childConstructors):i._childConstructors.push(o),x.widget.bridge(t,o),o},x.widget.extend=function(t){for(var e,i,n=p.call(arguments,1),o=0,s=n.length;o<s;o++)for(e in n[o])i=n[o][e],d.call(n[o],e)&&void 0!==i&&(x.isPlainObject(i)?t[e]=x.isPlainObject(t[e])?x.widget.extend({},t[e],i):x.widget.extend({},i):t[e]=i);return t},x.widget.bridge=function(s,e){var r=e.prototype.widgetFullName||s;x.fn[s]=function(i){var t="string"==typeof i,n=p.call(arguments,1),o=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=x.data(this,r);return"instance"===i?(o=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?x.error("no such method '"+i+"' for "+s+" widget instance"):(t=e[i].apply(e,n))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:x.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):o=void 0:(n.length&&(i=x.widget.extend.apply(null,[i].concat(n))),this.each(function(){var t=x.data(this,r);t?(t.option(i||{}),t._init&&t._init()):x.data(this,r,new e(i,this))})),o}},x.Widget=function(){},x.Widget._childConstructors=[],x.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=x(e||this.defaultElement||this)[0],this.element=x(e),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=x(),this.hoverable=x(),this.focusable=x(),this.classesElementLookup={},e!==this&&(x.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=x(e.style?e.ownerDocument:e.document||e),this.window=x(this.document[0].defaultView||this.document[0].parentWindow)),this.options=x.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:x.noop,_create:x.noop,_init:x.noop,destroy:function(){var i=this;this._destroy(),x.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:x.noop,widget:function(){return this.element},option:function(t,e){var i,n,o,s=t;if(0===arguments.length)return x.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(i=t.split(".")).shift(),i.length){for(n=s[t]=x.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)n[i[o]]=n[i[o]]||{},n=n[i[o]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=e}return this._setOptions(s),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,n;for(e in t)n=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&n&&n.length&&(i=x(n.get()),this._removeClass(n,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(o){var s=[],r=this;function t(t,e){for(var i,n=0;n<t.length;n++)i=r.classesElementLookup[t[n]]||x(),i=o.add?(function(){var i=[];o.element.each(function(t,e){x.map(r.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||i.push(e)}),r._on(x(i),{remove:"_untrackClassesElement"})}(),x(x.uniqueSort(i.get().concat(o.element.get())))):x(i.not(o.element).get()),r.classesElementLookup[t[n]]=i,s.push(t[n]),e&&o.classes[t[n]]&&s.push(o.classes[t[n]])}return(o=x.extend({element:this.element,classes:this.options.classes||{}},o)).keys&&t(o.keys.match(/\S+/g)||[],!0),o.extra&&t(o.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(i){var n=this;x.each(n.classesElementLookup,function(t,e){-1!==x.inArray(i.target,e)&&(n.classesElementLookup[t]=x(e.not(i.target).get()))}),this._off(x(i.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){var o="string"==typeof t||null===t,i={extra:o?e:i,keys:o?t:e,element:o?this.element:t,add:n="boolean"==typeof n?n:i};return i.element.toggleClass(this._classes(i),n),this},_on:function(o,s,t){var r,l=this;"boolean"!=typeof o&&(t=s,s=o,o=!1),t?(s=r=x(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,r=this.widget()),x.each(t,function(t,e){function i(){if(o||!0!==l.options.disabled&&!x(this).hasClass("ui-state-disabled"))return("string"==typeof e?l[e]:e).apply(l,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||x.guid++);var n=t.match(/^([\w:-]*)\s*(.*)$/),t=n[1]+l.eventNamespace,n=n[2];n?r.on(t,n,i):s.on(t,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=x(this.bindings.not(t).get()),this.focusable=x(this.focusable.not(t).get()),this.hoverable=x(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(x(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(x(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var n,o,s=this.options[t];if(i=i||{},(e=x.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(n in o)n in e||(e[n]=o[n]);return this.element.trigger(e,i),!("function"==typeof s&&!1===s.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},x.each({show:"fadeIn",hide:"fadeOut"},function(s,r){x.Widget.prototype["_"+s]=function(e,t,i){var n,o=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||r:s;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),n=!x.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),n&&x.effects&&x.effects.effect[o]?e[s](t):o!==s&&e[o]?e[o](t.duration,t.easing,i):e.queue(function(t){x(this)[s](),i&&i.call(e[0]),t()})}})});
;/*!
 * jQuery UI Mouse 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(o){"use strict";var n=!1;return o(document).on("mouseup",function(){n=!1}),o.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===o.data(e.target,t.widgetName+".preventClickEvent"))return o.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!n){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,s=1===e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&o(e.target).closest(this.options.cancel).length;return s&&!i&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===o.data(e.target,this.widgetName+".preventClickEvent")&&o.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),n=!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(o.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&o.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,n=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});
;/*!
 * jQuery UI Resizable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./mouse","./core"],t):t(jQuery)}(function(z){"use strict";return z.widget("ui.resizable",z.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,i){if("hidden"===z(t).css("overflow"))return!1;var e=i&&"left"===i?"scrollLeft":"scrollTop",i=!1;if(0<t[e])return!0;try{t[e]=1,i=0<t[e],t[e]=0}catch(t){}return i},_create:function(){var t,i=this.options,e=this;this._addClass("ui-resizable"),z.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(z("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&z(this.element).on("mouseenter",function(){i.disabled||(e._removeClass("ui-resizable-autohide"),e._handles.show())}).on("mouseleave",function(){i.disabled||e.resizing||(e._addClass("ui-resizable-autohide"),e._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();function t(t){z(t).removeData("resizable").removeData("ui-resizable").off(".resizable")}var i;return this.elementIsWrapper&&(t(this.element),i=this.element,this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,i){switch(this._super(t,i),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!i}},_setupHandles:function(){var t,i,e,s,h,n=this.options,o=this;if(this.handles=n.handles||(z(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=z(),this._addedHandles=z(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s="ui-resizable-"+(t=String.prototype.trim.call(e[i])),h=z("<div>"),this._addClass(h,"ui-resizable-handle "+s),h.css({zIndex:n.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(h),this._addedHandles=this._addedHandles.add(h));this._renderAxis=function(t){var i,e,s;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=z(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(e=z(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?e.outerHeight():e.outerWidth(),e=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(e,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){o.resizing||(this.className&&(h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=h&&h[1]?h[1]:"se")}),n.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var i,e,s=!1;for(i in this.handles)(e=z(this.handles[i])[0])!==t.target&&!z.contains(e,t.target)||(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var i,e,s=this.options,h=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),e=this._num(this.helper.css("top")),s.containment&&(i+=z(s.containment).scrollLeft()||0,e+=z(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:e},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalPosition={left:i,top:e},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=z(".ui-resizable-"+this.axis).css("cursor"),z("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i=this.originalMousePosition,e=this.axis,s=t.pageX-i.left||0,i=t.pageY-i.top||0,e=this._change[e];return this._updatePrevProperties(),e&&(i=e.apply(this,[t,s,i]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),z.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var i,e,s,h=this.options,n=this;return this._helper&&(s=(i=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:n.sizeDiff.height,e=i?0:n.sizeDiff.width,i={width:n.helper.width()-e,height:n.helper.height()-s},e=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,s=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null,h.animate||this.element.css(z.extend(i,{top:s,left:e})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!h.animate&&this._proportionallyResize()),z("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var i,e,s=this.options,h={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0};(this._aspectRatio||t)&&(i=h.minHeight*this.aspectRatio,e=h.minWidth/this.aspectRatio,s=h.maxHeight*this.aspectRatio,t=h.maxWidth/this.aspectRatio,i>h.minWidth&&(h.minWidth=i),e>h.minHeight&&(h.minHeight=e),s<h.maxWidth&&(h.maxWidth=s),t<h.maxHeight&&(h.maxHeight=t)),this._vBoundaries=h},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var i=this.position,e=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=i.left+(e.width-t.width),t.top=null),"nw"===s&&(t.top=i.top+(e.height-t.height),t.left=i.left+(e.width-t.width)),t},_respectSize:function(t){var i=this._vBoundaries,e=this.axis,s=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,h=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,n=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,o=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,r=/sw|nw|w/.test(e),e=/nw|ne|n/.test(e);return n&&(t.width=i.minWidth),o&&(t.height=i.minHeight),s&&(t.width=i.maxWidth),h&&(t.height=i.maxHeight),n&&r&&(t.left=a-i.minWidth),s&&r&&(t.left=a-i.maxWidth),o&&e&&(t.top=l-i.minHeight),h&&e&&(t.top=l-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var i=0,e=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],h=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];i<4;i++)e[i]=parseFloat(s[i])||0,e[i]+=parseFloat(h[i])||0;return{height:e[0]+e[2],width:e[1]+e[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,i=0,e=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)t=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||z("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,i){return{width:this.originalSize.width+i}},w:function(t,i){var e=this.originalSize;return{left:this.originalPosition.left+i,width:e.width-i}},n:function(t,i,e){var s=this.originalSize;return{top:this.originalPosition.top+e,height:s.height-e}},s:function(t,i,e){return{height:this.originalSize.height+e}},se:function(t,i,e){return z.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,e]))},sw:function(t,i,e){return z.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,e]))},ne:function(t,i,e){return z.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,e]))},nw:function(t,i,e){return z.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,e]))}},_propagate:function(t,i){z.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),z.ui.plugin.add("resizable","animate",{stop:function(i){var e=z(this).resizable("instance"),t=e.options,s=e._proportionallyResizeElements,h=s.length&&/textarea/i.test(s[0].nodeName),n=h&&e._hasScroll(s[0],"left")?0:e.sizeDiff.height,o=h?0:e.sizeDiff.width,h={width:e.size.width-o,height:e.size.height-n},o=parseFloat(e.element.css("left"))+(e.position.left-e.originalPosition.left)||null,n=parseFloat(e.element.css("top"))+(e.position.top-e.originalPosition.top)||null;e.element.animate(z.extend(h,n&&o?{top:n,left:o}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(e.element.css("width")),height:parseFloat(e.element.css("height")),top:parseFloat(e.element.css("top")),left:parseFloat(e.element.css("left"))};s&&s.length&&z(s[0]).css({width:t.width,height:t.height}),e._updateCache(t),e._propagate("resize",i)}})}}),z.ui.plugin.add("resizable","containment",{start:function(){var e,s,h=z(this).resizable("instance"),t=h.options,i=h.element,n=t.containment,o=n instanceof z?n.get(0):/parent/.test(n)?i.parent().get(0):n;o&&(h.containerElement=z(o),/document/.test(n)||n===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:z(document),left:0,top:0,width:z(document).width(),height:z(document).height()||document.body.parentNode.scrollHeight}):(e=z(o),s=[],z(["Top","Right","Left","Bottom"]).each(function(t,i){s[t]=h._num(e.css("padding"+i))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-s[3],width:e.innerWidth()-s[1]},t=h.containerOffset,i=h.containerSize.height,n=h.containerSize.width,n=h._hasScroll(o,"left")?o.scrollWidth:n,i=h._hasScroll(o)?o.scrollHeight:i,h.parentData={element:o,left:t.left,top:t.top,width:n,height:i}))},resize:function(t){var i=z(this).resizable("instance"),e=i.options,s=i.containerOffset,h=i.position,n=i._aspectRatio||t.shiftKey,o={top:0,left:0},a=i.containerElement,t=!0;a[0]!==document&&/static/.test(a.css("position"))&&(o=s),h.left<(i._helper?s.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-s.left:i.position.left-o.left),n&&(i.size.height=i.size.width/i.aspectRatio,t=!1),i.position.left=e.helper?s.left:0),h.top<(i._helper?s.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-s.top:i.position.top),n&&(i.size.width=i.size.height*i.aspectRatio,t=!1),i.position.top=i._helper?s.top:0),e=i.containerElement.get(0)===i.element.parent().get(0),h=/relative|absolute/.test(i.containerElement.css("position")),e&&h?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top),h=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-o.left:i.offset.left-s.left)),s=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-o.top:i.offset.top-s.top)),h+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-h,n&&(i.size.height=i.size.width/i.aspectRatio,t=!1)),s+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-s,n&&(i.size.width=i.size.height*i.aspectRatio,t=!1)),t||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=z(this).resizable("instance"),i=t.options,e=t.containerOffset,s=t.containerPosition,h=t.containerElement,n=z(t.helper),o=n.offset(),a=n.outerWidth()-t.sizeDiff.width,n=n.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(h.css("position"))&&z(this).css({left:o.left-s.left-e.left,width:a,height:n}),t._helper&&!i.animate&&/static/.test(h.css("position"))&&z(this).css({left:o.left-s.left-e.left,width:a,height:n})}}),z.ui.plugin.add("resizable","alsoResize",{start:function(){var t=z(this).resizable("instance").options;z(t.alsoResize).each(function(){var t=z(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,e){var i=z(this).resizable("instance"),s=i.options,h=i.originalSize,n=i.originalPosition,o={height:i.size.height-h.height||0,width:i.size.width-h.width||0,top:i.position.top-n.top||0,left:i.position.left-n.left||0};z(s.alsoResize).each(function(){var t=z(this),s=z(this).data("ui-resizable-alsoresize"),h={},i=t.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];z.each(i,function(t,i){var e=(s[i]||0)+(o[i]||0);e&&0<=e&&(h[i]=e||null)}),t.css(h)})},stop:function(){z(this).removeData("ui-resizable-alsoresize")}}),z.ui.plugin.add("resizable","ghost",{start:function(){var t=z(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==z.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=z(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=z(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),z.ui.plugin.add("resizable","grid",{resize:function(){var t,i=z(this).resizable("instance"),e=i.options,s=i.size,h=i.originalSize,n=i.originalPosition,o=i.axis,a="number"==typeof e.grid?[e.grid,e.grid]:e.grid,l=a[0]||1,r=a[1]||1,p=Math.round((s.width-h.width)/l)*l,d=Math.round((s.height-h.height)/r)*r,g=h.width+p,u=h.height+d,c=e.maxWidth&&e.maxWidth<g,f=e.maxHeight&&e.maxHeight<u,m=e.minWidth&&e.minWidth>g,s=e.minHeight&&e.minHeight>u;e.grid=a,m&&(g+=l),s&&(u+=r),c&&(g-=l),f&&(u-=r),/^(se|s|e)$/.test(o)?(i.size.width=g,i.size.height=u):/^(ne)$/.test(o)?(i.size.width=g,i.size.height=u,i.position.top=n.top-d):/^(sw)$/.test(o)?(i.size.width=g,i.size.height=u,i.position.left=n.left-p):((u-r<=0||g-l<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),0<u-r?(i.size.height=u,i.position.top=n.top-d):(u=r-t.height,i.size.height=u,i.position.top=n.top+h.height-u),0<g-l?(i.size.width=g,i.position.left=n.left-p):(g=l-t.width,i.size.width=g,i.position.left=n.left+h.width-g))}}),z.ui.resizable});
;/*!
 * jQuery UI Draggable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./mouse","./core"],t):t(jQuery)}(function(P){"use strict";return P.widget("ui.draggable",P.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<P(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=P(this);return P("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=P.ui.safeActiveElement(this.document[0]);P(t.target).closest(e).length||P.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),P.ui.ddmanager&&(P.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===P(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),P.ui.ddmanager&&!e.dropBehaviour&&P.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),P.ui.ddmanager&&P.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){e=this._uiHash();if(!1===this._trigger("drag",t,e))return this._mouseUp(new P.Event("mouseup",t)),!1;this.position=e.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",P.ui.ddmanager&&P.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,s=!1;return P.ui.ddmanager&&!this.options.dropBehaviour&&(s=P.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,s)?P(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),P.ui.ddmanager&&P.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),P.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new P.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!P(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,s="function"==typeof e.helper,t=s?P(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return t.parents("body").length||t.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),s&&t[0]===this.element[0]&&this._setPositionRelative(),t[0]===this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=Array.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&P.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,s,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(s=(e=P(i.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=i.containment:this.containment=[0,0,P(o).width()-this.helperProportions.width-this.margins.left,(P(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[P(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,P(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,P(window).scrollLeft()+P(window).width()-this.helperProportions.width-this.margins.left,P(window).scrollTop()+(P(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e=e||this.position;var s="absolute"===t?1:-1,t=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:t?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:t?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i=this.options,o=this._isRootNode(this.scrollParent[0]),n=t.pageX,r=t.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(s=this.relativeContainer?(s=this.relativeContainer.offset(),[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):this.containment,t.pageX-this.offset.click.left<s[0]&&(n=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(r=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(n=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(r=s[3]+this.offset.click.top)),i.grid&&(t=i.grid[1]?this.originalPageY+Math.round((r-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY,r=!s||t-this.offset.click.top>=s[1]||t-this.offset.click.top>s[3]?t:t-this.offset.click.top>=s[1]?t-i.grid[1]:t+i.grid[1],t=i.grid[0]?this.originalPageX+Math.round((n-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX,n=!s||t-this.offset.click.left>=s[0]||t-this.offset.click.left>s[2]?t:t-this.offset.click.left>=s[0]?t-i.grid[0]:t+i.grid[0]),"y"===i.axis&&(n=this.originalPageX),"x"===i.axis&&(r=this.originalPageY)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,s){return s=s||this._uiHash(),P.ui.plugin.call(this,t,[e,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),P.Widget.prototype._trigger.call(this,t,e,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),P.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,s){var i=P.extend({},t,{item:s.element});s.sortables=[],P(s.options.connectToSortable).each(function(){var t=P(this).sortable("instance");t&&!t.options.disabled&&(s.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,i))})},stop:function(e,t,s){var i=P.extend({},t,{item:s.element});s.cancelHelperRemoval=!1,P.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,i))})},drag:function(s,i,o){P.each(o.sortables,function(){var t=!1,e=this;e.positionAbs=o.positionAbs,e.helperProportions=o.helperProportions,e.offset.click=o.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,P.each(o.sortables,function(){return this.positionAbs=o.positionAbs,this.helperProportions=o.helperProportions,this.offset.click=o.offset.click,t=this!==e&&this._intersectsWith(this.containerCache)&&P.contains(e.element[0],this.element[0])?!1:t})),t?(e.isOver||(e.isOver=1,o._parent=i.helper.parent(),e.currentItem=i.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return i.helper[0]},s.target=e.currentItem[0],e._mouseCapture(s,!0),e._mouseStart(s,!0,!0),e.offset.click.top=o.offset.click.top,e.offset.click.left=o.offset.click.left,e.offset.parent.left-=o.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=o.offset.parent.top-e.offset.parent.top,o._trigger("toSortable",s),o.dropped=e.element,P.each(o.sortables,function(){this.refreshPositions()}),o.currentItem=o.element,e.fromOutside=o),e.currentItem&&(e._mouseDrag(s),i.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",s,e._uiHash(e)),e._mouseStop(s,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),i.helper.appendTo(o._parent),o._refreshOffsets(s),i.position=o._generatePosition(s,!0),o._trigger("fromSortable",s),o.dropped=!1,P.each(o.sortables,function(){this.refreshPositions()}))})}}),P.ui.plugin.add("draggable","cursor",{start:function(t,e,s){var i=P("body"),s=s.options;i.css("cursor")&&(s._cursor=i.css("cursor")),i.css("cursor",s.cursor)},stop:function(t,e,s){s=s.options;s._cursor&&P("body").css("cursor",s._cursor)}}),P.ui.plugin.add("draggable","opacity",{start:function(t,e,s){e=P(e.helper),s=s.options;e.css("opacity")&&(s._opacity=e.css("opacity")),e.css("opacity",s.opacity)},stop:function(t,e,s){s=s.options;s._opacity&&P(e.helper).css("opacity",s._opacity)}}),P.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(t,e,s){var i=s.options,o=!1,n=s.scrollParentNotHidden[0],r=s.document[0];n!==r&&"HTML"!==n.tagName?(i.axis&&"x"===i.axis||(s.overflowOffset.top+n.offsetHeight-t.pageY<i.scrollSensitivity?n.scrollTop=o=n.scrollTop+i.scrollSpeed:t.pageY-s.overflowOffset.top<i.scrollSensitivity&&(n.scrollTop=o=n.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(s.overflowOffset.left+n.offsetWidth-t.pageX<i.scrollSensitivity?n.scrollLeft=o=n.scrollLeft+i.scrollSpeed:t.pageX-s.overflowOffset.left<i.scrollSensitivity&&(n.scrollLeft=o=n.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-P(r).scrollTop()<i.scrollSensitivity?o=P(r).scrollTop(P(r).scrollTop()-i.scrollSpeed):P(window).height()-(t.pageY-P(r).scrollTop())<i.scrollSensitivity&&(o=P(r).scrollTop(P(r).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-P(r).scrollLeft()<i.scrollSensitivity?o=P(r).scrollLeft(P(r).scrollLeft()-i.scrollSpeed):P(window).width()-(t.pageX-P(r).scrollLeft())<i.scrollSensitivity&&(o=P(r).scrollLeft(P(r).scrollLeft()+i.scrollSpeed)))),!1!==o&&P.ui.ddmanager&&!i.dropBehaviour&&P.ui.ddmanager.prepareOffsets(s,t)}}),P.ui.plugin.add("draggable","snap",{start:function(t,e,s){var i=s.options;s.snapElements=[],P(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=P(this),e=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,s){for(var i,o,n,r,l,a,h,p,c,f=s.options,d=f.snapTolerance,g=e.offset.left,u=g+s.helperProportions.width,m=e.offset.top,v=m+s.helperProportions.height,_=s.snapElements.length-1;0<=_;_--)a=(l=s.snapElements[_].left-s.margins.left)+s.snapElements[_].width,p=(h=s.snapElements[_].top-s.margins.top)+s.snapElements[_].height,u<l-d||a+d<g||v<h-d||p+d<m||!P.contains(s.snapElements[_].item.ownerDocument,s.snapElements[_].item)?(s.snapElements[_].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,P.extend(s._uiHash(),{snapItem:s.snapElements[_].item})),s.snapElements[_].snapping=!1):("inner"!==f.snapMode&&(i=Math.abs(h-v)<=d,o=Math.abs(p-m)<=d,n=Math.abs(l-u)<=d,r=Math.abs(a-g)<=d,i&&(e.position.top=s._convertPositionTo("relative",{top:h-s.helperProportions.height,left:0}).top),o&&(e.position.top=s._convertPositionTo("relative",{top:p,left:0}).top),n&&(e.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(e.position.left=s._convertPositionTo("relative",{top:0,left:a}).left)),c=i||o||n||r,"outer"!==f.snapMode&&(i=Math.abs(h-m)<=d,o=Math.abs(p-v)<=d,n=Math.abs(l-g)<=d,r=Math.abs(a-u)<=d,i&&(e.position.top=s._convertPositionTo("relative",{top:h,left:0}).top),o&&(e.position.top=s._convertPositionTo("relative",{top:p-s.helperProportions.height,left:0}).top),n&&(e.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(e.position.left=s._convertPositionTo("relative",{top:0,left:a-s.helperProportions.width}).left)),!s.snapElements[_].snapping&&(i||o||n||r||c)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,P.extend(s._uiHash(),{snapItem:s.snapElements[_].item})),s.snapElements[_].snapping=i||o||n||r||c)}}),P.ui.plugin.add("draggable","stack",{start:function(t,e,s){var i,s=s.options,s=P.makeArray(P(s.stack)).sort(function(t,e){return(parseInt(P(t).css("zIndex"),10)||0)-(parseInt(P(e).css("zIndex"),10)||0)});s.length&&(i=parseInt(P(s[0]).css("zIndex"),10)||0,P(s).each(function(t){P(this).css("zIndex",i+t)}),this.css("zIndex",i+s.length))}}),P.ui.plugin.add("draggable","zIndex",{start:function(t,e,s){e=P(e.helper),s=s.options;e.css("zIndex")&&(s._zIndex=e.css("zIndex")),e.css("zIndex",s.zIndex)},stop:function(t,e,s){s=s.options;s._zIndex&&P(e.helper).css("zIndex",s._zIndex)}}),P.ui.draggable});